{"version":3,"sources":["js/component/FirstRunWizard.js"],"names":["FirstRunWizard","Component","constructor","props","onContinue","bind","componentDidMount","state","displayMenu","config","firstRun","page","factorioUsername","prevPage","makeGoogleAuth","removeGoogleOAuth","GoogleAccessToken","GoogleRefreshToken","GoogleTokenValidTill","makeDropBoxAuth","removeDropboxOAuth","DropboxAccessToken","googleButton","dropboxButton","render"],"mappings":"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","file":"FirstRunWizard.js","sourcesContent":["import React from 'react';\nimport {inject, observer} from 'mobx-react';\nimport Fa from \"./Fa\";\n\n@inject('config') @inject('state') @observer\nclass FirstRunWizard extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.onContinue = this.onContinue.bind(this);\n    }\n\n    componentDidMount(){\n        this.props.state.displayMenu = false;\n        if(this.props.config.firstRun){\n            this.props.state.page = 'firstRun';\n            this.props.config.firstRun = false;\n        }\n    }\n\n    onContinue(){\n        if(this.props.config.factorioUsername === ''){\n            this.props.state.prevPage = 'firstRun';\n            this.props.state.page = 'factorioLogin';\n        }else{\n            this.props.state.displayMenu = true;\n            this.props.state.prevPage = '';\n            this.props.state.page = 'main';\n        }\n    }\n\n    makeGoogleAuth(){\n        this.props.state.prevPage = 'firstRun';\n        this.props.state.page = 'googleOAuth';\n    }\n\n    removeGoogleOAuth(){\n        this.props.config.GoogleAccessToken = '';\n        this.props.config.GoogleRefreshToken = '';\n        this.props.config.GoogleTokenValidTill = '';\n    }\n\n    makeDropBoxAuth(){\n        this.props.state.prevPage = 'firstRun';\n        this.props.state.page = 'dropboxOAuth';\n    }\n\n    removeDropboxOAuth(){\n        this.props.config.DropboxAccessToken = '';\n    }\n\n    googleButton(){\n        if(this.props.config.GoogleRefreshToken === ''){\n            return <button className=\"btn btn-block btn-outline-primary\" onClick={this.makeGoogleAuth.bind(this)}><Fa icon=\"google\"/>Connect Google</button>\n        }\n        return <button className=\"btn btn-block btn-outline-danger\" onClick={this.removeGoogleOAuth.bind(this)}><Fa icon=\"google\"/>Disconnect Google</button>\n    }\n\n    dropboxButton(){\n        if(this.props.config.DropboxAccessToken === ''){\n            return <button className=\"btn btn-block btn-outline-primary\" onClick={this.makeDropBoxAuth.bind(this)}><Fa icon=\"dropbox\" />Connect Dropbox</button>\n        }\n        return <button className=\"btn btn-block btn-outline-danger\" onClick={this.removeDropboxOAuth.bind(this)}><Fa icon=\"dropbox\" />Disconnect Dropbox</button>\n    }\n\n    render(){\n        if(this.props.config.factorioUsername === ''){\n            return <div className=\"row\">\n                    <div className=\"col-6 m-auto\">\n                        <h1 className=\"text-center\">Hello</h1>\n                        <h4 className=\"text-center\">To use YAFMM you need to enter your Factorio login Data.</h4>\n                        <button className=\"mt-2 btn btn-outline-success btn-block\" onClick={this.onContinue}>Continue</button>\n                    </div>\n                </div>\n        }else {\n            return <div>\n                <div className=\"row\">\n                    <div className=\"col-6 m-auto\">\n                        <h1 className=\"text-center\">You can now enable cloud support.</h1>\n                        <h4 className=\"text-center\">If you have used YAFMM before it will automatically download your profiles.</h4>\n                        <span className=\"text-muted\">You can always change this in the config menu.</span><br/>\n                        <span className=\"text-muted\">This step is optional.</span>\n                    </div>\n                </div>\n                <div className=\"row my-2\">\n                    <div className=\"col-6 m-auto \">\n                        {this.googleButton()}\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col-6 m-auto\">\n                        {this.dropboxButton()}\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col-6 m-auto\">\n                        <button className=\"btn btn-block btn-outline-success\" onClick={this.onContinue}>Continue</button>\n                    </div>\n                </div>\n            </div>\n        }\n    }\n}\n\nexport default FirstRunWizard\n"]}