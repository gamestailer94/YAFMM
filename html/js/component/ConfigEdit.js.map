{"version":3,"sources":["js/component/ConfigEdit.js"],"names":["ConfigEdit","Component","openFactorioLogin","props","state","prevPage","page","makeGoogleOAuth","removeGoogleOAuth","config","GoogleAccessToken","GoogleRefreshToken","GoogleTokenValidTill","removeDropboxOAuth","DropboxAccessToken","makeDropboxOAuth","googleState","dropboxState","getGoogleBtn","bind","getDropboxBtn","changeAutoUpload","e","autoUpload","target","checked","getAutoUploadDestination","autoUploadDestination","setAutoUploadToGoogle","setAutoUploadToDropbox","render","factorioUsername","app","getVersion"],"mappings":"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","file":"ConfigEdit.js","sourcesContent":["import React from 'react';\nimport {inject, observer} from 'mobx-react';\nimport {remote} from 'electron';\nimport Fa from \"./Fa\";\n\n@inject('config') @inject('state') @observer\nclass ConfigEdit extends React.Component {\n    openFactorioLogin(){\n        this.props.state.prevPage = 'config';\n        this.props.state.page='factorioLogin';\n    }\n\n    makeGoogleOAuth(){\n        this.props.state.prevPage = 'config';\n        this.props.state.page='googleOAuth'\n    }\n\n    removeGoogleOAuth(){\n        this.props.config.GoogleAccessToken = '';\n        this.props.config.GoogleRefreshToken = '';\n        this.props.config.GoogleTokenValidTill = '';\n    }\n\n\n    removeDropboxOAuth(){\n        this.props.config.DropboxAccessToken = '';\n    }\n\n    makeDropboxOAuth(){\n        this.props.state.prevPage = 'config';\n        this.props.state.page='dropboxOAuth'\n    }\n\n    googleState(){\n        return this.props.config.GoogleRefreshToken !== '';\n    }\n    \n    dropboxState(){\n        return this.props.config.DropboxAccessToken !== '';\n    }\n\n    getGoogleBtn(){\n        if(this.googleState()){\n            return <button className=\"btn btn-outline-danger\" onClick={this.removeGoogleOAuth.bind(this)}><Fa icon='google' />Disconnect</button>\n        }\n        return <button className=\"btn btn-outline-primary\" onClick={this.makeGoogleOAuth.bind(this)}><Fa icon='google' />Connect</button>\n    }\n\n    getDropboxBtn(){\n        if(this.dropboxState()){\n            return <button className=\"btn btn-outline-danger\" onClick={this.removeDropboxOAuth.bind(this)}><Fa icon='dropbox' />Disconnect</button>\n        }\n        return <button className=\"btn btn-outline-primary\" onClick={this.makeDropboxOAuth.bind(this)}><Fa icon='dropbox' />Connect</button>\n    }\n\n    changeAutoUpload(e){\n        this.props.config.autoUpload = e.target.checked\n    }\n\n    getAutoUploadDestination(){\n        return this.props.config.autoUploadDestination === 'google' ? 'G-Drive': 'Dropbox';\n    }\n\n    setAutoUploadToGoogle(){\n        this.props.config.autoUploadDestination = 'google';\n    }\n    setAutoUploadToDropbox(){\n        this.props.config.autoUploadDestination = 'dropbox';\n    }\n\n    render() {\n        return <div className=\"row\">\n            <div className=\"col\">\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>G-Drive: {this.googleState()?\"Connected\":\"Not Connected\"}</span>\n                    </div>\n                    <div className=\"col\">\n                        {this.getGoogleBtn()}\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>Dropbox: {this.dropboxState()?\"Conntected\":\"Not Connected\"}</span>\n                    </div>\n                    <div className=\"col\">\n                        {this.getDropboxBtn()}\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>Factorio Account: {this.props.config.factorioUsername}</span>\n                    </div>\n                    <div className=\"col\">\n                        <button className=\"btn btn-success\" onClick={this.openFactorioLogin.bind(this)}>Change Login Data</button>\n                    </div>\n                </div>\n                <div className=\"row mb.2\">\n                    <div className=\"col\">\n                        <span>Auto Cloud upload:</span>\n                    </div>\n                    <div className=\"col\">\n                        <label className=\"custom-checkbox custom-control\">\n                            <input type=\"checkbox\" className=\"custom-control-input\" onChange={this.changeAutoUpload.bind(this)}\n                                   checked={this.props.config.autoUpload} />\n                            <span className=\"custom-control-indicator\" />\n                        </label>\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        Auto upload to:\n                    </div>\n                    <div className=\"col\">\n                        <button className=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\">{this.getAutoUploadDestination()}</button>\n                        <div className=\"dropdown-menu\">\n                            <button className=\"dropdown-item\" onClick={this.setAutoUploadToGoogle.bind(this)}>G-Drive</button>\n                            <button className=\"dropdown-item\" onClick={this.setAutoUploadToDropbox.bind(this)}>Dropbox</button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        YAFMM Version:\n                    </div>\n                    <div className=\"col\">\n                        {remote.app.getVersion()}\n                    </div>\n                </div>\n            </div>\n        </div>\n    }\n}\n\nexport default ConfigEdit"]}