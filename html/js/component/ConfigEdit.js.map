{"version":3,"sources":["js/component/ConfigEdit.js"],"names":["ConfigEdit","Component","openFactorioLogin","props","state","prevPage","page","makeGoogleOAuth","removeGoogleOAuth","config","GoogleAccessToken","GoogleRefreshToken","GoogleTokenValidTill","googleState","getGoogleBtn","bind","render","factorioUsername","app","getVersion"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;;;IAGMA,U,WADL,uBAAO,QAAP,C,UAAkB,uBAAO,OAAP,C,iEACnB,MAAMA,UAAN,SAAyB,gBAAMC,SAA/B,CAAyC;AACrCC,wBAAmB;AACf,aAAKC,KAAL,CAAWC,KAAX,CAAiBC,QAAjB,GAA4B,QAA5B;AACA,aAAKF,KAAL,CAAWC,KAAX,CAAiBE,IAAjB,GAAsB,eAAtB;AACH;;AAEDC,sBAAiB;AACb,aAAKJ,KAAL,CAAWC,KAAX,CAAiBC,QAAjB,GAA4B,QAA5B;AACA,aAAKF,KAAL,CAAWC,KAAX,CAAiBE,IAAjB,GAAsB,aAAtB;AACH;;AAEDE,wBAAmB;AACf,aAAKL,KAAL,CAAWM,MAAX,CAAkBC,iBAAlB,GAAsC,EAAtC;AACA,aAAKP,KAAL,CAAWM,MAAX,CAAkBE,kBAAlB,GAAuC,EAAvC;AACA,aAAKR,KAAL,CAAWM,MAAX,CAAkBG,oBAAlB,GAAyC,EAAzC;AACH;;AAEDC,kBAAa;AACT,eAAO,KAAKV,KAAL,CAAWM,MAAX,CAAkBE,kBAAlB,KAAyC,EAAhD;AACH;;AAEDG,mBAAc;AACV,YAAG,KAAKD,WAAL,EAAH,EAAsB;AAClB,mBAAO;AAAA;AAAA,kBAAQ,WAAU,wBAAlB,EAA2C,SAAS,KAAKL,iBAAL,CAAuBO,IAAvB,CAA4B,IAA5B,CAApD;AAAuF,8DAAI,MAAK,QAAT,GAAvF;AAAA;AAAA,aAAP;AACH;AACD,eAAO;AAAA;AAAA,cAAQ,WAAU,yBAAlB,EAA4C,SAAS,KAAKR,eAAL,CAAqBQ,IAArB,CAA0B,IAA1B,CAArD;AAAsF,0DAAI,MAAK,QAAT,GAAtF;AAAA;AAAA,SAAP;AACH;;AAEDC,aAAS;AACL,eAAO;AAAA;AAAA,cAAK,WAAU,KAAf;AACH;AAAA;AAAA,kBAAK,WAAU,KAAf;AACI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AACI;AAAA;AAAA;AAAA;AAAgB,iCAAKH,WAAL,KAAmB,WAAnB,GAA+B;AAA/C;AADJ,qBADJ;AAII;AAAA;AAAA,0BAAK,WAAU,KAAf;AACK,6BAAKC,YAAL;AADL;AAJJ,iBADJ;AASI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAII;AAAA;AAAA,0BAAK,WAAU,KAAf;AACI;AAAA;AAAA,8BAAQ,WAAU,yBAAlB;AAA4C,0EAAI,MAAK,SAAT,GAA5C;AAAA;AAAA;AADJ;AAJJ,iBATJ;AAiBI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AACI;AAAA;AAAA;AAAA;AAAyB,iCAAKX,KAAL,CAAWM,MAAX,CAAkBQ;AAA3C;AADJ,qBADJ;AAII;AAAA;AAAA,0BAAK,WAAU,KAAf;AACI;AAAA;AAAA,8BAAQ,WAAU,iBAAlB,EAAoC,SAAS,KAAKf,iBAAL,CAAuBa,IAAvB,CAA4B,IAA5B,CAA7C;AAAA;AAAA;AADJ;AAJJ,iBAjBJ;AAyBI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AAAA;AAAA,qBADJ;AAII;AAAA;AAAA,0BAAK,WAAU,KAAf;AACK,yCAAOG,GAAP,CAAWC,UAAX;AADL;AAJJ;AAzBJ;AADG,SAAP;AAoCH;AAjEoC,C;kBAoE1BnB,U","file":"ConfigEdit.js","sourcesContent":["import React from 'react';\nimport {inject, observer} from 'mobx-react';\nimport {remote} from 'electron';\nimport Fa from \"./Fa\";\n\n@inject('config') @inject('state') @observer\nclass ConfigEdit extends React.Component {\n    openFactorioLogin(){\n        this.props.state.prevPage = 'config';\n        this.props.state.page='factorioLogin';\n    }\n\n    makeGoogleOAuth(){\n        this.props.state.prevPage = 'config';\n        this.props.state.page='googleOAuth'\n    }\n\n    removeGoogleOAuth(){\n        this.props.config.GoogleAccessToken = '';\n        this.props.config.GoogleRefreshToken = '';\n        this.props.config.GoogleTokenValidTill = '';\n    }\n\n    googleState(){\n        return this.props.config.GoogleRefreshToken !== '';\n    }\n\n    getGoogleBtn(){\n        if(this.googleState()){\n            return <button className=\"btn btn-outline-danger\" onClick={this.removeGoogleOAuth.bind(this)}><Fa icon='google' />Disconnect</button>\n        }\n        return <button className=\"btn btn-outline-primary\" onClick={this.makeGoogleOAuth.bind(this)}><Fa icon='google' />Connect</button>\n    }\n\n    render() {\n        return <div className=\"row\">\n            <div className=\"col\">\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>G-Drive: {this.googleState()?\"Connected\":\"Not Connected\"}</span>\n                    </div>\n                    <div className=\"col\">\n                        {this.getGoogleBtn()}\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>Dropbox: not Connected</span>\n                    </div>\n                    <div className=\"col\">\n                        <button className=\"btn btn-outline-primary\"><Fa icon=\"dropbox\"/>Connect</button>\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        <span>Factorio Account: {this.props.config.factorioUsername}</span>\n                    </div>\n                    <div className=\"col\">\n                        <button className=\"btn btn-success\" onClick={this.openFactorioLogin.bind(this)}>Change Login Data</button>\n                    </div>\n                </div>\n                <div className=\"row mb-2\">\n                    <div className=\"col\">\n                        YAFMM Version:\n                    </div>\n                    <div className=\"col\">\n                        {remote.app.getVersion()}\n                    </div>\n                </div>\n            </div>\n        </div>\n    }\n}\n\nexport default ConfigEdit"]}